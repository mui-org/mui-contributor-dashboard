apiVersion: v1
kind: page
spec:
  id: fo163htb
  title: issueFirstComment
  parameters:
    - name: repoId
      value: "23083156"
  content:
    - component: PageRow
      name: PageRow
      children:
        - component: codeComponent.HealthBadge
          name: codeComponent_HealthBadge
          props:
            value:
              $$jsExpression: >
                (() => {
                  const length = issueOpenToFirstResponded.data.data.length

                  return Math.round(issueOpenToFirstResponded.data.data[length - 1].p75)
                })()
            warning: 8
            problem: 24
            unit: " hours"
            lowerIsBetter: true
    - component: PageRow
      name: PageRow1
      children:
        - component: Text
          name: Text
          props:
            value:
              $$jsExpression: |
                (() => {
                  const length = issueOpenToFirstResponded.data.data.length

                  return `Based on the last 30 days (since ${
                    issueOpenToFirstResponded.data.data[length - 1].event_month
                  })`
                })()
  queries:
    - name: issueOpenToFirstResponded
      query:
        kind: rest
        url:
          $$jsExpression: >
            `https://api.ossinsight.io/q/analyze-issue-open-to-first-responded?repoId=${parameters.repoId}`
        headers: []
        method: GET
        searchParams: []
      parameters:
        - name: repoId
          value:
            $$jsExpression: |
              page.parameters.repoId
  display: standalone
